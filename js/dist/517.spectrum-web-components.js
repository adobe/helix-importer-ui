"use strict";(globalThis.webpackChunkhelix_import_ui=globalThis.webpackChunkhelix_import_ui||[]).push([[517],{517:(e,t,n)=>{n.r(t);var i=n(200),o=n(392),s=n(338),r=n(250),a=n(259),l=n(763),c=n(796),h=n(959),d=n(321);const p=new class{constructor(e={}){this.warmUpDelay=1e3,this.coolDownDelay=1e3,this.isWarm=!1,this.timeout=0,Object.assign(this,e)}async openTimer(e){if(this.cancelCooldownTimer(),!this.component||e!==this.component)return this.component&&(this.close(this.component),this.cancelCooldownTimer()),this.component=e,!this.isWarm&&(this.promise=new Promise((e=>{this.resolve=e,this.timeout=window.setTimeout((()=>{this.resolve&&(this.resolve(!1),this.isWarm=!0)}),this.warmUpDelay)})),this.promise);if(this.promise)return this.promise;throw new Error("Inconsistent state")}close(e){this.component&&this.component===e&&(this.resetCooldownTimer(),this.timeout>0&&(clearTimeout(this.timeout),this.timeout=0),this.resolve&&(this.resolve(!0),delete this.resolve),delete this.promise,delete this.component)}resetCooldownTimer(){this.isWarm&&(this.cooldownTimeout&&window.clearTimeout(this.cooldownTimeout),this.cooldownTimeout=window.setTimeout((()=>{this.isWarm=!1,delete this.cooldownTimeout}),this.coolDownDelay))}cancelCooldownTimer(){this.cooldownTimeout&&window.clearTimeout(this.cooldownTimeout),delete this.cooldownTimeout}},u=()=>{};class m extends Event{constructor(){super("beforetoggle",{bubbles:!1,composed:!1}),this.currentState="open",this.newState="closed"}}class g extends Event{constructor(){super("beforetoggle",{bubbles:!1,composed:!1}),this.currentState="closed",this.newState="open"}}const f=(e,t,n)=>{const i=new AbortController,o=new Map,s=()=>{i.abort(),n()};let r,a;const l=requestAnimationFrame((()=>{r=requestAnimationFrame((()=>{a=requestAnimationFrame((()=>{s()}))}))})),c=t=>{t.target===e&&(o.set(t.propertyName,o.get(t.propertyName)-1),o.get(t.propertyName)||o.delete(t.propertyName),0===o.size&&s())};e.addEventListener("transitionrun",(t=>{t.target===e&&(o.has(t.propertyName)||o.set(t.propertyName,0),o.set(t.propertyName,o.get(t.propertyName)+1),cancelAnimationFrame(l),cancelAnimationFrame(r),cancelAnimationFrame(a))}),{signal:i.signal}),e.addEventListener("transitionend",c,{signal:i.signal}),e.addEventListener("transitioncancel",c,{signal:i.signal}),t()};function y(){return new Promise((e=>requestAnimationFrame((()=>e()))))}class v extends d.o{constructor(){super(...arguments),this.dispose=u,this.offset=6,this.willPreventClose=!1}async applyFocus(e,t){}get delayed(){return!1}set delayed(e){}async ensureOnDOM(e){}async makeTransition(e){return null}async manageDelay(e){}async manageDialogOpen(){}async managePopoverOpen(){}managePosition(){}get open(){return!1}set open(e){}get state(){return"closed"}set state(e){}manuallyKeepOpen(){}static update(){const e=new CustomEvent("sp-update-overlays",{bubbles:!0,composed:!0,cancelable:!0});document.dispatchEvent(e)}static async open(e,t,i,o){var s,r,a,l;await Promise.resolve().then(n.bind(n,517));const c=2===arguments.length,h=i||e,d=new this;let p=!1;d.dispose=()=>{d.addEventListener("sp-closed",(()=>{p||(m(),p=!0),requestAnimationFrame((()=>{d.remove()}))})),d.open=!1,d.dispose=u};const m=((e,t,{position:n,prepareCallback:i}={position:"beforeend"})=>{let{length:o}=e;if(0===o)return()=>e;let s=1,r=0;("afterbegin"===n||"afterend"===n)&&(s=-1,r=o-1);const a=new Array(o),l=new Array(o),c=document.createComment("placeholder for reparented element");do{const o=e[r];i&&(l[r]=i(o)),a[r]=c.cloneNode();const h=o.parentElement||o.getRootNode();h&&h!==o&&h.replaceChild(a[r],o),t.insertAdjacentElement(n,o),r+=s}while(--o>0);return function(){return function(e,t,n=[]){for(let i=0;i<t.length;++i){const o=t[i],s=e[i],r=s.parentElement||s.getRootNode();n[i]&&n[i](o),r&&r!==s&&r.replaceChild(o,s),delete e[i]}return t}(a,e,l)}})([h],d,{position:"beforeend",prepareCallback:e=>{const t=e.slot;return e.removeAttribute("slot"),()=>{e.slot=t}}});if(!c&&h&&o){const n=e,i=t,a=o;return d.delayed=a.delayed||h.hasAttribute("delayed"),d.receivesFocus=null!=(s=a.receivesFocus)?s:"auto",d.triggerElement=a.virtualTrigger||n,d.type="modal"===i?"modal":"hover"===i?"hint":"auto",d.offset=null!=(r=a.offset)?r:6,d.placement=a.placement,d.willPreventClose=!!a.notImmediatelyClosable,n.insertAdjacentElement("afterend",d),await d.updateComplete,d.open=!0,d.dispose}const g=t;return d.append(h),d.delayed=g.delayed||h.hasAttribute("delayed"),d.receivesFocus=null!=(a=g.receivesFocus)?a:"auto",d.triggerElement=g.trigger||null,d.type=g.type||"modal",d.offset=null!=(l=g.offset)?l:6,d.placement=g.placement,d.willPreventClose=!!g.notImmediatelyClosable,d.updateComplete.then((()=>{d.open=!0})),d}}var b=n(171);class w{constructor(e,t){this.x=0,this.y=0,this.x=e,this.y=t}updateBoundingClientRect(e,t){this.x=e,this.y=t,v.update()}getBoundingClientRect(){return{width:0,height:0,top:this.y,right:this.x,y:this.y,x:this.x,bottom:this.y,left:this.x,toJSON(){}}}}var E=n(601);function x(e){let t=!1;try{t=e.matches(":popover-open")}catch(e){}let n=!1;try{n=e.matches(":open")}catch(e){}return t||n}const C="showPopover"in document.createElement("div"),P=new class{constructor(){this.root=document.body,this.stack=[],this.handlePointerdown=e=>{this.pointerdownPath=e.composedPath()},this.handlePointerup=()=>{var e;if(!this.stack.length||null==(e=this.pointerdownPath)||!e.length)return;const t=this.pointerdownPath;this.pointerdownPath=void 0;const n=this.stack.filter((e=>!t.find((t=>t===e||t===(null==e?void 0:e.triggerElement)))&&!e.shouldPreventClose()));n.reverse(),n.forEach((e=>{this.closeOverlay(e);let t=e.parentOverlayToForceClose;for(;t;)this.closeOverlay(t),t=t.parentOverlayToForceClose}))},this.handleBeforetoggle=e=>{const{target:t,newState:n}=e;"open"!==n&&this.closeOverlay(t)},this.handleKeydown=e=>{if("Escape"!==e.code)return;const t=this.stack.at(-1);"page"!==(null==t?void 0:t.type)?C||this.stack.length&&t&&this.closeOverlay(t):e.preventDefault()},this.bindEvents()}get document(){return this.root.ownerDocument||document}bindEvents(){this.document.addEventListener("pointerdown",this.handlePointerdown),this.document.addEventListener("pointerup",this.handlePointerup),this.document.addEventListener("keydown",this.handleKeydown)}closeOverlay(e){const t=this.stack.indexOf(e);t>-1&&this.stack.splice(t,1),e.open=!1}overlaysByTriggerElement(e){return this.stack.filter((t=>t.triggerElement===e))}add(e){if(this.stack.includes(e)){const t=this.stack.indexOf(e);t>-1&&(this.stack.splice(t,1),this.stack.push(e))}else{if("auto"===e.type||"modal"===e.type||"page"===e.type){const t="sp-overlay-query-path",n=new Event(t,{composed:!0,bubbles:!0});e.addEventListener(t,(e=>{const t=e.composedPath();this.stack.forEach((e=>{!t.find((t=>t===e))&&"manual"!==e.type&&this.closeOverlay(e)}))}),{once:!0}),e.dispatchEvent(n)}else"hint"===e.type&&this.stack.forEach((e=>{"hint"===e.type&&this.closeOverlay(e)}));requestAnimationFrame((()=>{this.stack.push(e),e.addEventListener("beforetoggle",this.handleBeforetoggle,{once:!0})}))}}remove(e){this.closeOverlay(e)}},T=Math.min,L=Math.max,O=Math.round,A=Math.floor,D=e=>({x:e,y:e}),k={left:"right",right:"left",bottom:"top",top:"bottom"},S={start:"end",end:"start"};function R(e,t,n){return L(e,T(t,n))}function F(e,t){return"function"==typeof e?e(t):e}function N(e){return e.split("-")[0]}function $(e){return e.split("-")[1]}function B(e){return"x"===e?"y":"x"}function H(e){return"y"===e?"height":"width"}function M(e){return["top","bottom"].includes(N(e))?"y":"x"}function W(e){return B(M(e))}function q(e){return e.replace(/start|end/g,(e=>S[e]))}function V(e){return e.replace(/left|right|bottom|top/g,(e=>k[e]))}function I(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function _(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function U(e,t,n){let{reference:i,floating:o}=e;const s=M(t),r=W(t),a=H(r),l=N(t),c="y"===s,h=i.x+i.width/2-o.width/2,d=i.y+i.height/2-o.height/2,p=i[a]/2-o[a]/2;let u;switch(l){case"top":u={x:h,y:i.y-o.height};break;case"bottom":u={x:h,y:i.y+i.height};break;case"right":u={x:i.x+i.width,y:d};break;case"left":u={x:i.x-o.width,y:d};break;default:u={x:i.x,y:i.y}}switch($(t)){case"start":u[r]-=p*(n&&c?-1:1);break;case"end":u[r]+=p*(n&&c?-1:1)}return u}async function j(e,t){var n;void 0===t&&(t={});const{x:i,y:o,platform:s,rects:r,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:d="floating",altBoundary:p=!1,padding:u=0}=F(t,e),m=I(u),g=a[p?"floating"===d?"reference":"floating":d],f=_(await s.getClippingRect({element:null==(n=await(null==s.isElement?void 0:s.isElement(g)))||n?g:g.contextElement||await(null==s.getDocumentElement?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:h,strategy:l})),y="floating"===d?{...r.floating,x:i,y:o}:r.reference,v=await(null==s.getOffsetParent?void 0:s.getOffsetParent(a.floating)),b=await(null==s.isElement?void 0:s.isElement(v))&&await(null==s.getScale?void 0:s.getScale(v))||{x:1,y:1},w=_(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:y,offsetParent:v,strategy:l}):y);return{top:(f.top-w.top+m.top)/b.y,bottom:(w.bottom-f.bottom+m.bottom)/b.y,left:(f.left-w.left+m.left)/b.x,right:(w.right-f.right+m.right)/b.x}}const z=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:i,placement:o,rects:s,platform:r,elements:a,middlewareData:l}=t,{element:c,padding:h=0}=F(e,t)||{};if(null==c)return{};const d=I(h),p={x:n,y:i},u=W(o),m=H(u),g=await r.getDimensions(c),f="y"===u,y=f?"top":"left",v=f?"bottom":"right",b=f?"clientHeight":"clientWidth",w=s.reference[m]+s.reference[u]-p[u]-s.floating[m],E=p[u]-s.reference[u],x=await(null==r.getOffsetParent?void 0:r.getOffsetParent(c));let C=x?x[b]:0;C&&await(null==r.isElement?void 0:r.isElement(x))||(C=a.floating[b]||s.floating[m]);const P=w/2-E/2,L=C/2-g[m]/2-1,O=T(d[y],L),A=T(d[v],L),D=O,k=C-g[m]-A,S=C/2-g[m]/2+P,N=R(D,S,k),B=!l.arrow&&null!=$(o)&&S!=N&&s.reference[m]/2-(S<D?O:A)-g[m]/2<0,M=B?S<D?S-D:S-k:0;return{[u]:p[u]+M,data:{[u]:N,centerOffset:S-N-M,...B&&{alignmentOffset:M}},reset:B}}}),K=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:o,middlewareData:s,rects:r,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:h=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...f}=F(e,t);if(null!=(n=s.arrow)&&n.alignmentOffset)return{};const y=N(o),v=N(a)===a,b=await(null==l.isRTL?void 0:l.isRTL(c.floating)),w=p||(v||!g?[V(a)]:function(e){const t=V(e);return[q(e),t,q(t)]}(a));p||"none"===m||w.push(...function(e,t,n,i){const o=$(e);let s=function(e,t,n){const i=["left","right"],o=["right","left"],s=["top","bottom"],r=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:i:t?i:o;case"left":case"right":return t?s:r;default:return[]}}(N(e),"start"===n,i);return o&&(s=s.map((e=>e+"-"+o)),t&&(s=s.concat(s.map(q)))),s}(a,g,m,b));const E=[a,...w],x=await j(t,f),C=[];let P=(null==(i=s.flip)?void 0:i.overflows)||[];if(h&&C.push(x[y]),d){const e=function(e,t,n){void 0===n&&(n=!1);const i=$(e),o=W(e),s=H(o);let r="x"===o?i===(n?"end":"start")?"right":"left":"start"===i?"bottom":"top";return t.reference[s]>t.floating[s]&&(r=V(r)),[r,V(r)]}(o,r,b);C.push(x[e[0]],x[e[1]])}if(P=[...P,{placement:o,overflows:C}],!C.every((e=>e<=0))){var T,L;const e=((null==(T=s.flip)?void 0:T.index)||0)+1,t=E[e];if(t)return{data:{index:e,overflows:P},reset:{placement:t}};let n=null==(L=P.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:L.placement;if(!n)switch(u){case"bestFit":{var O;const e=null==(O=P.map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:O[0];e&&(n=e);break}case"initialPlacement":n=a}if(o!==n)return{reset:{placement:n}}}return{}}}},X=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:i}=t,o=await async function(e,t){const{placement:n,platform:i,elements:o}=e,s=await(null==i.isRTL?void 0:i.isRTL(o.floating)),r=N(n),a=$(n),l="y"===M(n),c=["left","top"].includes(r)?-1:1,h=s&&l?-1:1,d=F(t,e);let{mainAxis:p,crossAxis:u,alignmentAxis:m}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&"number"==typeof m&&(u="end"===a?-1*m:m),l?{x:u*h,y:p*c}:{x:p*c,y:u*h}}(t,e);return{x:n+o.x,y:i+o.y,data:o}}}},Y=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:i,platform:o,elements:s}=t,{apply:r=(()=>{}),...a}=F(e,t),l=await j(t,a),c=N(n),h=$(n),d="y"===M(n),{width:p,height:u}=i.floating;let m,g;"top"===c||"bottom"===c?(m=c,g=h===(await(null==o.isRTL?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(g=c,m="end"===h?"top":"bottom");const f=u-l[m],y=p-l[g],v=!t.middlewareData.shift;let b=f,w=y;if(d){const e=p-l.left-l.right;w=h||v?T(y,e):e}else{const e=u-l.top-l.bottom;b=h||v?T(f,e):e}if(v&&!h){const e=L(l.left,0),t=L(l.right,0),n=L(l.top,0),i=L(l.bottom,0);d?w=p-2*(0!==e||0!==t?e+t:L(l.left,l.right)):b=u-2*(0!==n||0!==i?n+i:L(l.top,l.bottom))}await r({...t,availableWidth:w,availableHeight:b});const E=await o.getDimensions(s.floating);return p!==E.width||u!==E.height?{reset:{rects:!0}}:{}}}};function J(e){return Z(e)?(e.nodeName||"").toLowerCase():"#document"}function G(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Q(e){var t;return null==(t=(Z(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Z(e){return e instanceof Node||e instanceof G(e).Node}function ee(e){return e instanceof Element||e instanceof G(e).Element}function te(e){return e instanceof HTMLElement||e instanceof G(e).HTMLElement}function ne(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof G(e).ShadowRoot)}function ie(e){const{overflow:t,overflowX:n,overflowY:i,display:o}=ce(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(o)}function oe(e){return["table","td","th"].includes(J(e))}function se(e){const t=ae(),n=ce(e);return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function re(e){let t=de(e);for(;te(t)&&!le(t);){if(se(t))return t;t=de(t)}return null}function ae(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function le(e){return["html","body","#document"].includes(J(e))}function ce(e){return G(e).getComputedStyle(e)}function he(e){return ee(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function de(e){if("html"===J(e))return e;const t=e.assignedSlot||e.parentNode||ne(e)&&e.host||Q(e);return ne(t)?t.host:t}function pe(e){const t=de(e);return le(t)?e.ownerDocument?e.ownerDocument.body:e.body:te(t)&&ie(t)?t:pe(t)}function ue(e,t,n){var i;void 0===t&&(t=[]),void 0===n&&(n=!0);const o=pe(e),s=o===(null==(i=e.ownerDocument)?void 0:i.body),r=G(o);return s?t.concat(r,r.visualViewport||[],ie(o)?o:[],r.frameElement&&n?ue(r.frameElement):[]):t.concat(o,ue(o,[],n))}function me(e){const t=ce(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const o=te(e),s=o?e.offsetWidth:n,r=o?e.offsetHeight:i,a=O(n)!==s||O(i)!==r;return a&&(n=s,i=r),{width:n,height:i,$:a}}function ge(e){return ee(e)?e:e.contextElement}function fe(e){const t=ge(e);if(!te(t))return D(1);const n=t.getBoundingClientRect(),{width:i,height:o,$:s}=me(t);let r=(s?O(n.width):n.width)/i,a=(s?O(n.height):n.height)/o;return r&&Number.isFinite(r)||(r=1),a&&Number.isFinite(a)||(a=1),{x:r,y:a}}const ye=D(0);function ve(e){const t=G(e);return ae()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:ye}function be(e,t,n,i){void 0===t&&(t=!1),void 0===n&&(n=!1);const o=e.getBoundingClientRect(),s=ge(e);let r=D(1);t&&(i?ee(i)&&(r=fe(i)):r=fe(e));const a=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==G(e))&&t}(s,n,i)?ve(s):D(0);let l=(o.left+a.x)/r.x,c=(o.top+a.y)/r.y,h=o.width/r.x,d=o.height/r.y;if(s){const e=G(s),t=i&&ee(i)?G(i):i;let n=e.frameElement;for(;n&&i&&t!==e;){const e=fe(n),t=n.getBoundingClientRect(),i=ce(n),o=t.left+(n.clientLeft+parseFloat(i.paddingLeft))*e.x,s=t.top+(n.clientTop+parseFloat(i.paddingTop))*e.y;l*=e.x,c*=e.y,h*=e.x,d*=e.y,l+=o,c+=s,n=G(n).frameElement}}return _({width:h,height:d,x:l,y:c})}function we(e){return be(Q(e)).left+he(e).scrollLeft}function Ee(e,t,n){let i;if("viewport"===t)i=function(e,t){const n=G(e),i=Q(e),o=n.visualViewport;let s=i.clientWidth,r=i.clientHeight,a=0,l=0;if(o){s=o.width,r=o.height;const e=ae();(!e||e&&"fixed"===t)&&(a=o.offsetLeft,l=o.offsetTop)}return{width:s,height:r,x:a,y:l}}(e,n);else if("document"===t)i=function(e){const t=Q(e),n=he(e),i=e.ownerDocument.body,o=L(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),s=L(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let r=-n.scrollLeft+we(e);const a=-n.scrollTop;return"rtl"===ce(i).direction&&(r+=L(t.clientWidth,i.clientWidth)-o),{width:o,height:s,x:r,y:a}}(Q(e));else if(ee(t))i=function(e,t){const n=be(e,!0,"fixed"===t),i=n.top+e.clientTop,o=n.left+e.clientLeft,s=te(e)?fe(e):D(1);return{width:e.clientWidth*s.x,height:e.clientHeight*s.y,x:o*s.x,y:i*s.y}}(t,n);else{const n=ve(e);i={...t,x:t.x-n.x,y:t.y-n.y}}return _(i)}function xe(e,t){const n=de(e);return!(n===t||!ee(n)||le(n))&&("fixed"===ce(n).position||xe(n,t))}function Ce(e,t,n){const i=te(t),o=Q(t),s="fixed"===n,r=be(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=D(0);if(i||!i&&!s)if(("body"!==J(t)||ie(o))&&(a=he(t)),i){const e=be(t,!0,s,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else o&&(l.x=we(o));return{x:r.left+a.scrollLeft-l.x,y:r.top+a.scrollTop-l.y,width:r.width,height:r.height}}function Pe(e,t){return te(e)&&"fixed"!==ce(e).position?t?t(e):e.offsetParent:null}function Te(e,t){const n=G(e);if(!te(e))return n;let i=Pe(e,t);for(;i&&oe(i)&&"static"===ce(i).position;)i=Pe(i,t);return i&&("html"===J(i)||"body"===J(i)&&"static"===ce(i).position&&!se(i))?n:i||re(e)||n}const Le={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:i}=e;const o=te(n),s=Q(n);if(n===s)return t;let r={scrollLeft:0,scrollTop:0},a=D(1);const l=D(0);if((o||!o&&"fixed"!==i)&&(("body"!==J(n)||ie(s))&&(r=he(n)),te(n))){const e=be(n);a=fe(n),l.x=e.x+n.clientLeft,l.y=e.y+n.clientTop}return{width:t.width*a.x,height:t.height*a.y,x:t.x*a.x-r.scrollLeft*a.x+l.x,y:t.y*a.y-r.scrollTop*a.y+l.y}},getDocumentElement:Q,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:i,strategy:o}=e;const s=[..."clippingAncestors"===n?function(e,t){const n=t.get(e);if(n)return n;let i=ue(e,[],!1).filter((e=>ee(e)&&"body"!==J(e))),o=null;const s="fixed"===ce(e).position;let r=s?de(e):e;for(;ee(r)&&!le(r);){const t=ce(r),n=se(r);n||"fixed"!==t.position||(o=null),(s?!n&&!o:!n&&"static"===t.position&&o&&["absolute","fixed"].includes(o.position)||ie(r)&&!n&&xe(e,r))?i=i.filter((e=>e!==r)):o=t,r=de(r)}return t.set(e,i),i}(t,this._c):[].concat(n),i],r=s[0],a=s.reduce(((e,n)=>{const i=Ee(t,n,o);return e.top=L(i.top,e.top),e.right=T(i.right,e.right),e.bottom=T(i.bottom,e.bottom),e.left=L(i.left,e.left),e}),Ee(t,r,o));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:Te,getElementRects:async function(e){let{reference:t,floating:n,strategy:i}=e;const o=this.getOffsetParent||Te,s=this.getDimensions;return{reference:Ce(t,await o(n),i),floating:{x:0,y:0,...await s(n)}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){return me(e)},getScale:fe,isElement:ee,isRTL:function(e){return"rtl"===ce(e).direction}};function Oe(e){if(void 0===e)return 0;const t=window.devicePixelRatio||1;return Math.round(e*t)/t}const Ae=e=>{var t;return null!=(t={left:["right","bottom","top"],"left-start":["right-start","bottom","top"],"left-end":["right-end","bottom","top"],right:["left","bottom","top"],"right-start":["left-start","bottom","top"],"right-end":["left-end","bottom","top"],top:["bottom","left","right"],"top-start":["bottom-start","left","right"],"top-end":["bottom-end","left","right"],bottom:["top","left","right"],"bottom-start":["top-start","left","right"],"bottom-end":["top-end","left","right"]}[e])?t:[e]};Symbol("placement updated");class De{constructor(e){this.originalPlacements=new WeakMap,this.allowPlacementUpdate=!1,this.updatePlacement=()=>{this.allowPlacementUpdate||"modal"===this.options.type||!this.cleanup?(this.computePlacement(),this.allowPlacementUpdate=!1):this.target.dispatchEvent(new Event("close",{bubbles:!0}))},this.resetOverlayPosition=()=>{!this.target||!this.options||(this.target.style.removeProperty("max-height"),this.target.style.removeProperty("height"),this.initialHeight=void 0,this.isConstrained=!1,this.host.offsetHeight,this.computePlacement())},this.host=e,this.host.addController(this)}async placeOverlay(e=this.target,t=this.options){if(this.target=e,this.options=t,!e||!t)return;const n=function(e,t,n,i){void 0===i&&(i={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:r="function"==typeof ResizeObserver,layoutShift:a="function"==typeof IntersectionObserver,animationFrame:l=!1}=i,c=ge(e),h=o||s?[...c?ue(c):[],...ue(t)]:[];h.forEach((e=>{o&&e.addEventListener("scroll",n,{passive:!0}),s&&e.addEventListener("resize",n)}));const d=c&&a?function(e,t){let n,i=null;const o=Q(e);function s(){clearTimeout(n),i&&i.disconnect(),i=null}return function r(a,l){void 0===a&&(a=!1),void 0===l&&(l=1),s();const{left:c,top:h,width:d,height:p}=e.getBoundingClientRect();if(a||t(),!d||!p)return;const u={rootMargin:-A(h)+"px "+-A(o.clientWidth-(c+d))+"px "+-A(o.clientHeight-(h+p))+"px "+-A(c)+"px",threshold:L(0,T(1,l))||1};let m=!0;function g(e){const t=e[0].intersectionRatio;if(t!==l){if(!m)return r();t?r(!1,t):n=setTimeout((()=>{r(!1,1e-7)}),100)}m=!1}try{i=new IntersectionObserver(g,{...u,root:o.ownerDocument})}catch(e){i=new IntersectionObserver(g,u)}i.observe(e)}(!0),s}(c,n):null;let p,u=-1,m=null;r&&(m=new ResizeObserver((e=>{let[i]=e;i&&i.target===c&&m&&(m.unobserve(t),cancelAnimationFrame(u),u=requestAnimationFrame((()=>{m&&m.observe(t)}))),n()})),c&&!l&&m.observe(c),m.observe(t));let g=l?be(e):null;return l&&function t(){const i=be(e);!g||i.x===g.x&&i.y===g.y&&i.width===g.width&&i.height===g.height||n(),g=i,p=requestAnimationFrame(t)}(),n(),()=>{h.forEach((e=>{o&&e.removeEventListener("scroll",n),s&&e.removeEventListener("resize",n)})),d&&d(),m&&m.disconnect(),m=null,l&&cancelAnimationFrame(p)}}(t.trigger,e,this.updatePlacement,{elementResize:!1,layoutShift:!1});this.cleanup=()=>{var e;null==(e=this.host.elements)||e.forEach((e=>{e.addEventListener("sp-closed",(()=>{const t=this.originalPlacements.get(e);t&&e.setAttribute("placement",t),this.originalPlacements.delete(e)}),{once:!0})})),n()}}async computePlacement(){var e,t;const{options:n,target:i}=this;await(document.fonts?document.fonts.ready:Promise.resolve());const o=n.trigger instanceof HTMLElement?K():K({padding:8,fallbackPlacements:Ae(n.placement)}),[s=0,r=0]=Array.isArray(null==n?void 0:n.offset)?n.offset:[n.offset,0],a=null==(e=this.host.elements.find((e=>e.tipElement)))?void 0:e.tipElement,l=[X({mainAxis:s,crossAxis:r}),(u={padding:8},void 0===u&&(u={}),{name:"shift",options:u,async fn(e){const{x:t,y:n,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:r={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...a}=F(u,e),l={x:t,y:n},c=await j(e,a),h=M(N(i)),d=B(h);let p=l[d],m=l[h];if(o){const e="y"===d?"bottom":"right";p=R(p+c["y"===d?"top":"left"],p,p-c[e])}if(s){const e="y"===h?"bottom":"right";m=R(m+c["y"===h?"top":"left"],m,m-c[e])}const g=r.fn({...e,[d]:p,[h]:m});return{...g,data:{x:g.x-t,y:g.y-n}}}}),o,Y({padding:8,apply:({availableWidth:e,availableHeight:t,rects:{floating:n}})=>{const o=Math.max(100,Math.floor(t)),s=n.height;this.initialHeight=this.isConstrained&&this.initialHeight||s,this.isConstrained=s<this.initialHeight||o<=s;const r=this.isConstrained?`${o}px`:"";Object.assign(i.style,{maxWidth:`${Math.floor(e)}px`,maxHeight:r,height:r})}}),...a?[z({element:a,padding:n.tipPadding||8})]:[],{name:"topLayer",async fn(e){const{x:t,y:n,elements:{reference:i,floating:o}}=e;let s=!1,r=!1,a=!1;const l={x:0,y:0};try{s=s||o.matches(":popover-open")}catch(e){}try{s=s||o.matches(":open")}catch(e){}try{s=s||o.matches(":modal")}catch(e){}r=s;const c=new Event("floating-ui-dialog-test",{composed:!0,bubbles:!0});o.addEventListener("floating-ui-dialog-test",(e=>{e.composedPath().forEach((e=>{if(a=a||e===i,e!==o&&"dialog"===e.localName)try{s=s||e.matches(":modal")}catch(e){}}))}),{once:!0}),o.dispatchEvent(c);let h=!1;if(!(i instanceof w)){const e=a?i:o,t=se(e)?e:re(e);let n={};if(null!==t&&G(t)!==t&&(n=getComputedStyle(t),h="none"!==n.transform||"none"!==n.translate||!!n.backdropFilter&&"none"!==n.backdropFilter||!!n.filter&&"none"!==n.filter||n.willChange.search("transform")>-1||n.willChange.search("translate")>-1||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))),s&&h&&t){const e=t.getBoundingClientRect(),{marginInlineStart:i="0",marginBlockStart:o="0"}=n;l.x=e.x+parseFloat(i),l.y=e.y+parseFloat(o)}}return s&&r?{x:t+l.x,y:n+l.y,data:l}:s?{x:t,y:n,data:l}:{x:t-l.x,y:n-l.y,data:l}}}],{x:c,y:h,placement:d,middlewareData:p}=await((e,t,n)=>{const i=new Map,o={platform:Le,...n},s={...o.platform,_c:i};return(async(e,t,n)=>{const{placement:i="bottom",strategy:o="absolute",middleware:s=[],platform:r}=n,a=s.filter(Boolean),l=await(null==r.isRTL?void 0:r.isRTL(t));let c=await r.getElementRects({reference:e,floating:t,strategy:o}),{x:h,y:d}=U(c,i,l),p=i,u={},m=0;for(let n=0;n<a.length;n++){const{name:s,fn:g}=a[n],{x:f,y,data:v,reset:b}=await g({x:h,y:d,initialPlacement:i,placement:p,strategy:o,middlewareData:u,rects:c,platform:r,elements:{reference:e,floating:t}});h=null!=f?f:h,d=null!=y?y:d,u={...u,[s]:{...u[s],...v}},b&&m<=50&&(m++,"object"==typeof b&&(b.placement&&(p=b.placement),b.rects&&(c=!0===b.rects?await r.getElementRects({reference:e,floating:t,strategy:o}):b.rects),({x:h,y:d}=U(c,p,l))),n=-1)}return{x:h,y:d,placement:p,strategy:o,middlewareData:u}})(e,t,{...o,platform:s})})(n.trigger,i,{placement:n.placement,middleware:l,strategy:"fixed"});var u;if(Object.assign(i.style,{top:"0px",left:"0px",translate:`${Oe(c)}px ${Oe(h)}px`}),i.setAttribute("actual-placement",d),null==(t=this.host.elements)||t.forEach((e=>{this.originalPlacements.set(e,e.getAttribute("placement")),e.setAttribute("placement",d)})),a&&p.arrow){const{x:e,y:t}=p.arrow;Object.assign(a.style,{top:d.startsWith("right")||d.startsWith("left")?"0px":"",left:d.startsWith("bottom")||d.startsWith("top")?"0px":"",translate:`${Oe(e)}px ${Oe(t)}px`})}}hostConnected(){document.addEventListener("sp-update-overlays",this.resetOverlayPosition)}hostUpdated(){var e;this.host.open||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)}hostDisconnected(){var e;null==(e=this.cleanup)||e.call(this),this.cleanup=void 0,document.removeEventListener("sp-update-overlays",this.resetOverlayPosition)}}const ke=o.iv`
:host{--swc-overlay-animation-distance:var(
--spectrum-picker-m-texticon-popover-offset-y,var(--spectrum-global-dimension-size-75)
);display:contents;pointer-events:none}.dialog{--sp-overlay-open:true;background:none;border:0;box-sizing:border-box;display:flex;height:auto;inset:auto;left:0;margin:0;max-height:calc(100vh - 16px);max-height:calc(100dvh - 16px);max-width:calc(100vw - 16px);opacity:1!important;overflow:visible;padding:0;position:fixed;top:0}.dialog:not([is-visible]){translate:-999em -999em!important}.dialog:focus{outline:none}dialog:modal{--mod-popover-filter:var(--spectrum-popover-filter)}:host(:not([open])) .dialog{--sp-overlay-open:false}.dialog::backdrop{display:none}.dialog:before{content:"";inset:-999em;pointer-events:auto!important;position:absolute}.dialog:not(.not-immediately-closable):before{display:none}.dialog>div{width:100%}::slotted(*){pointer-events:auto}::slotted(sp-popover){position:static}::slotted(sp-tooltip){--swc-tooltip-margin:0}.dialog:not([actual-placement])[placement*=top]{margin-top:var(--swc-overlay-animation-distance);padding-block:var(--swc-overlay-animation-distance)}.dialog:not([actual-placement])[placement*=right]{margin-left:calc(var(--swc-overlay-animation-distance)*-1);padding-inline:var(--swc-overlay-animation-distance)}.dialog:not([actual-placement])[placement*=bottom]{margin-top:calc(var(--swc-overlay-animation-distance)*-1);padding-block:var(--swc-overlay-animation-distance)}.dialog:not([actual-placement])[placement*=left]{margin-left:var(--swc-overlay-animation-distance);padding-inline:var(--swc-overlay-animation-distance)}.dialog[actual-placement*=top]{margin-top:var(--swc-overlay-animation-distance);padding-block:var(--swc-overlay-animation-distance)}.dialog[actual-placement*=right]{margin-left:calc(var(--swc-overlay-animation-distance)*-1);padding-inline:var(--swc-overlay-animation-distance)}.dialog[actual-placement*=bottom]{margin-top:calc(var(--swc-overlay-animation-distance)*-1);padding-block:var(--swc-overlay-animation-distance)}.dialog[actual-placement*=left]{margin-left:var(--swc-overlay-animation-distance);padding-inline:var(--swc-overlay-animation-distance)}slot[name=longpress-describedby-descriptor]{display:none}@supports selector(:open){.dialog{opacity:0}.dialog:open{--mod-popover-filter:var(--spectrum-popover-filter);opacity:1}}@supports selector(:popover-open){.dialog{opacity:0}.dialog:popover-open{--mod-popover-filter:var(--spectrum-popover-filter);opacity:1}}@supports (not selector(:open)) and (not selector(:popover-open)){:host:not([open]) .dialog{pointer-events:none}.dialog[actual-placement]{z-index:calc(var(--swc-overlay-z-index-base, 1000) + var(--swc-overlay-open-count))}}
`;var Se=Object.defineProperty,Re=Object.getOwnPropertyDescriptor,Fe=(e,t,n,i)=>{for(var o,s=i>1?void 0:i?Re(t,n):t,r=e.length-1;r>=0;r--)(o=e[r])&&(s=(i?o(t,n,s):o(s))||s);return i&&s&&Se(t,n,s),s};const Ne={touch:"Double tap and long press for additional options",keyboard:"Press Space or Alt+Down Arrow for additional options",mouse:"Click and hold for additional options"},$e="showPopover"in document.createElement("div");let Be=function(e){return class extends e{async manageDialogOpen(){const e=this.open;if(await this.managePosition(),this.open!==e||this.open!==e)return;const t=await this.dialogMakeTransition(e);this.open===e&&await this.dialogApplyFocus(e,t)}async dialogMakeTransition(e){let t=null;const n=(n,o)=>async()=>{if(void 0!==n.open&&(n.open=e),!e){const e=()=>{n.removeEventListener("close",e),i(n,o)};n.addEventListener("close",e)}if(o>0)return;const s=e?g:m;this.dispatchEvent(new s),e&&(n.matches(E.N)&&(t=n),t=t||(0,b.i)(n),t||n.querySelectorAll("slot").forEach((e=>{t||(t=(0,b.l)(e))})),this.isConnected&&!this.dialogEl.open&&this.dialogEl.showModal())},i=(t,n)=>()=>{if(this.open!==e)return;const i=e?"sp-opened":"sp-closed";if(n>0)return void t.dispatchEvent(new CustomEvent(i,{bubbles:!1,composed:!1,detail:{interaction:this.type}}));if(!this.isConnected||e!==this.open)return;const o=()=>{const n=this.triggerElement instanceof w;this.dispatchEvent(new Event(i,{bubbles:n,composed:n})),t.dispatchEvent(new Event(i,{bubbles:!1,composed:!1})),this.triggerElement&&!n&&this.triggerElement.dispatchEvent(new CustomEvent(i,{bubbles:!0,composed:!0,detail:{interaction:this.type}})),this.state=e?"opened":"closed"};!e&&this.dialogEl.open?(this.dialogEl.addEventListener("close",(()=>{o()}),{once:!0}),this.dialogEl.close()):o()};return this.elements.forEach(((e,t)=>{f(e,n(e,t),i(e,t))})),t}async dialogApplyFocus(e,t){this.applyFocus(e,t)}}}(v);var He;$e?(He=Be,Be=class extends He{async manageDelay(e){!1!==e&&e===this.open?this.delayed&&await p.openTimer(this)&&(this.open=!e):p.close(this)}async shouldHidePopover(e){if(e&&this.open!==e)return;const t=async({newState:e}={})=>{"open"!==e&&await this.placementController.resetOverlayPosition()};x(this.dialogEl)?this.dialogEl.addEventListener("toggle",t,{once:!0}):t()}async shouldShowPopover(e){let t=!1;try{t=this.dialogEl.matches(":popover-open")}catch(e){}let n=!1;try{n=this.dialogEl.matches(":open")}catch(e){}e&&this.open===e&&!t&&!n&&this.isConnected&&(this.dialogEl.showPopover(),await this.managePosition())}async ensureOnDOM(e){await y(),await this.shouldHidePopover(e),await this.shouldShowPopover(e),await y()}async makeTransition(e){if(this.open!==e)return null;let t=null;const n=(n,i)=>()=>{if(void 0!==n.open&&(n.open=e),0===i){const t=e?g:m;this.dispatchEvent(new t)}e&&(n.matches(E.N)&&(t=n),t=t||(0,b.i)(n),!t)&&n.querySelectorAll("slot").forEach((e=>{t||(t=(0,b.l)(e))}))},i=(t,n)=>async()=>{if(this.open!==e)return;const i=e?"sp-opened":"sp-closed";if(n>0)return void t.dispatchEvent(new CustomEvent(i,{bubbles:!1,composed:!1,detail:{interaction:this.type}}));const o=async()=>{if(this.open!==e)return;await y();const n=this.triggerElement instanceof w;this.dispatchEvent(new Event(i,{bubbles:n,composed:n})),t.dispatchEvent(new CustomEvent(i,{bubbles:!1,composed:!1,detail:{interaction:this.type}})),this.triggerElement&&!n&&this.triggerElement.dispatchEvent(new CustomEvent(i,{bubbles:!0,composed:!0,detail:{interaction:this.type}})),this.state=e?"opened":"closed"};if(this.open!==e)return;const s=x(this.dialogEl);!0!==e&&s&&this.isConnected?(this.dialogEl.addEventListener("beforetoggle",(()=>{o()}),{once:!0}),this.dialogEl.hidePopover()):o()};return this.elements.forEach(((e,t)=>{f(e,n(e,t),i(e,t))})),t}}):Be=function(e){return class extends e{async managePopoverOpen(){await this.managePosition()}async manageDelay(e){!1!==e&&e===this.open?this.delayed&&await p.openTimer(this)&&(this.open=!e):p.close(this)}async ensureOnDOM(e){document.body.offsetHeight}async makeTransition(e){if(this.open!==e)return null;let t=null;const n=(n,i)=>()=>{if(e===this.open){if(void 0!==n.open&&(n.open=e),0===i){const t=e?g:m;this.dispatchEvent(new t)}!0!==e||(n.matches(E.N)&&(t=n),t=t||(0,b.i)(n),t)||n.querySelectorAll("slot").forEach((e=>{t||(t=(0,b.l)(e))}))}},i=(t,n)=>()=>{if(this.open!==e)return;const i=e?"sp-opened":"sp-closed";if(t.dispatchEvent(new CustomEvent(i,{bubbles:!1,composed:!1,detail:{interaction:this.type}})),n>0)return;const o=this.triggerElement instanceof w;this.dispatchEvent(new Event(i,{bubbles:o,composed:o})),this.triggerElement&&!o&&this.triggerElement.dispatchEvent(new CustomEvent(i,{bubbles:!0,composed:!0,detail:{interaction:this.type}})),this.state=e?"opened":"closed"};return this.elements.forEach(((e,t)=>{f(e,n(e,t),i(e,t))})),t}}}(Be);const Me=class e extends Be{constructor(){super(...arguments),this._delayed=!1,this._disabled=!1,this.longpressState="null",this.offset=6,this.placementController=new De(this),this._open=!1,this.receivesFocus="auto",this.releaseAriaDescribedby=u,this.releaseLongpressDescribedby=u,this._state="closed",this.triggerElement=null,this.type="auto",this.wasOpen=!1,this.elementResolver=new a.j(this),this.closeOnFocusOut=e=>{if(!e.relatedTarget)return;const t=new Event("overlay-relation-query",{bubbles:!0,composed:!0});e.relatedTarget.addEventListener(t.type,(e=>{e.composedPath().includes(this)||(this.open=!1)})),e.relatedTarget.dispatchEvent(t)},this.elementIds=[],this.handlePointerdown=e=>{if(!this.triggerElement||0!==e.button)return;const t=this.triggerElement;this.longpressState="potential",document.addEventListener("pointerup",this.handlePointerup),document.addEventListener("pointercancel",this.handlePointerup),!t.holdAffordance&&(this.longressTimeout=setTimeout((()=>{t&&t.dispatchEvent(new CustomEvent("longpress",{bubbles:!0,composed:!0,detail:{source:"pointer"}}))}),300))},this.handlePointerup=()=>{clearTimeout(this.longressTimeout),this.triggerElement&&(this.longpressState="opening"===this.state?"pressed":"null",document.removeEventListener("pointerup",this.handlePointerup),document.removeEventListener("pointercancel",this.handlePointerup))},this.handleKeydown=e=>{const{code:t,altKey:n}=e;("Space"===t||n&&"ArrowDown"===t)&&"ArrowDown"===t&&(e.stopPropagation(),e.stopImmediatePropagation())},this.handleKeyup=e=>{const{code:t,altKey:n}=e;if("Space"===t||n&&"ArrowDown"===t){if(!this.triggerElement||!this.hasNonVirtualTrigger)return;e.stopPropagation(),this.triggerElement.dispatchEvent(new CustomEvent("longpress",{bubbles:!0,composed:!0,detail:{source:"keyboard"}})),setTimeout((()=>{this.longpressState="null"}))}},this.preventNextToggle=!1,this.handlePointerdownForClick=()=>{this.preventNextToggle=this.open},this.handleClick=()=>{"opening"===this.longpressState||"pressed"===this.longpressState||(this.preventNextToggle||(this.open=!this.open),this.preventNextToggle=!1)},this.focusedin=!1,this.handleFocusin=()=>{this.open=!0,this.focusedin=!0},this.handleFocusout=()=>{this.focusedin=!1,!this.pointerentered&&(this.open=!1)},this.pointerentered=!1,this.handlePointerenter=()=>{this.hoverTimeout&&(clearTimeout(this.hoverTimeout),delete this.hoverTimeout),!this.disabled&&(this.open=!0,this.pointerentered=!0)},this.handleOverlayPointerenter=()=>{this.hoverTimeout&&(clearTimeout(this.hoverTimeout),delete this.hoverTimeout)},this.handlePointerleave=()=>{this.doPointerleave()},this.handleOverlayPointerleave=()=>{this.doPointerleave()},this.handleLongpress=()=>{this.open=!0,this.longpressState="potential"===this.longpressState?"opening":"pressed"}}get delayed(){var e;return(null==(e=this.elements.at(-1))?void 0:e.hasAttribute("delayed"))||this._delayed}set delayed(e){this._delayed=e}get disabled(){return this._disabled}set disabled(e){this._disabled=e,e?(this.hasNonVirtualTrigger&&this.unbindEvents(),this.wasOpen=this.open,this.open=!1):(this.bindEvents(),this.open=this.open||this.wasOpen,this.wasOpen=!1)}get hasNonVirtualTrigger(){return!(!this.triggerElement||this.triggerElement instanceof w)}get open(){return this._open}set open(t){t&&this.disabled||t!==this.open&&(("opening"===this.longpressState||"pressed"===this.longpressState)&&!t||(this._open=t,this.open&&(e.openCount+=1),this.requestUpdate("open",!this.open)))}get state(){return this._state}set state(e){if(e===this.state)return;const t=this.state;this._state=e,("opened"===this.state||"closed"===this.state)&&(this.longpressState="pressed"===this.longpressState?"null":this.longpressState),this.requestUpdate("state",t)}get usesDialog(){return"modal"===this.type||"page"===this.type}get popoverValue(){if("popover"in this)switch(this.type){case"modal":case"page":return;case"hint":return"manual";default:return this.type}}get requiresPosition(){return!("page"===this.type||!this.open||!this.triggerElement||!this.placement&&"hint"!==this.type)}managePosition(){if(!this.requiresPosition||!this.open)return;const e=this.offset||0,t=this.triggerElement,n=this.placement||"right",i=this.tipPadding;this.placementController.placeOverlay(this.dialogEl,{offset:e,placement:n,tipPadding:i,trigger:t,type:this.type})}async managePopoverOpen(){super.managePopoverOpen();const e=this.open;if(this.open!==e||(await this.manageDelay(e),this.open!==e)||(await this.ensureOnDOM(e),this.open!==e))return;const t=await this.makeTransition(e);this.open===e&&await this.applyFocus(e,t)}async applyFocus(e,t){if("false"!==this.receivesFocus&&"hint"!==this.type){if(await y(),await y(),e===this.open&&!this.open)return void(this.hasNonVirtualTrigger&&this.contains(this.getRootNode().activeElement)&&this.triggerElement.focus());null==t||t.focus()}}async manageOpen(e){var t;if(this.isConnected||!this.open){if(this.hasUpdated||await this.updateComplete,this.open?(P.add(this),this.willPreventClose&&(document.addEventListener("pointerup",(()=>{this.dialogEl.classList.toggle("not-immediately-closable",!1),this.willPreventClose=!1}),{once:!0}),this.dialogEl.classList.toggle("not-immediately-closable",!0))):(e&&this.dispose(),P.remove(this)),this.open&&"opened"!==this.state?this.state="opening":!this.open&&"closed"!==this.state&&(this.state="closing"),this.usesDialog?this.manageDialogOpen():this.managePopoverOpen(),"auto"===this.type){const e=this.getRootNode();this.open?e.addEventListener("focusout",this.closeOnFocusOut,{capture:!0}):e.removeEventListener("focusout",this.closeOnFocusOut,{capture:!0})}if(!this.open&&"hint"!==this.type){const e=()=>{var e;const t=[];let n=document.activeElement;for(;null!=n&&n.shadowRoot&&n.shadowRoot.activeElement;)n=n.shadowRoot.activeElement;for(;n;){const i=n.assignedSlot||n.parentElement||(null==(e=n.getRootNode())?void 0:e.host);i&&t.push(i),n=i}return t};null!=(t=this.triggerElement)&&t.focus&&(this.contains(this.getRootNode().activeElement)||e().includes(this))&&this.triggerElement.focus()}}}unbindEvents(){var e;null==(e=this.abortController)||e.abort()}bindEvents(){if(!this.hasNonVirtualTrigger)return;this.abortController=new AbortController;const e=this.triggerElement;switch(this.triggerInteraction){case"click":return void this.bindClickEvents(e);case"longpress":return void this.bindLongpressEvents(e);case"hover":return void this.bindHoverEvents(e)}}bindClickEvents(e){const t={signal:this.abortController.signal};e.addEventListener("click",this.handleClick,t),e.addEventListener("pointerdown",this.handlePointerdownForClick,t)}bindLongpressEvents(e){const t={signal:this.abortController.signal};e.addEventListener("longpress",this.handleLongpress,t),e.addEventListener("pointerdown",this.handlePointerdown,t),this.prepareLongpressDescription(e),!e.holdAffordance&&(e.addEventListener("keydown",this.handleKeydown,t),e.addEventListener("keyup",this.handleKeyup,t))}bindHoverEvents(e){const t={signal:this.abortController.signal};e.addEventListener("focusin",this.handleFocusin,t),e.addEventListener("focusout",this.handleFocusout,t),e.addEventListener("pointerenter",this.handlePointerenter,t),e.addEventListener("pointerleave",this.handlePointerleave,t),this.addEventListener("pointerenter",this.handleOverlayPointerenter,t),this.addEventListener("pointerleave",this.handleOverlayPointerleave,t)}manageTriggerElement(e){e&&(this.unbindEvents(),this.releaseAriaDescribedby()),this.triggerElement&&!(this.triggerElement instanceof w)&&(this.bindEvents(),"true"!==this.receivesFocus&&this.prepareAriaDescribedby())}prepareLongpressDescription(e){if("longpress"!==this.triggerInteraction||this.releaseLongpressDescribedby!==u||!this.elements.length)return;const t=document.createElement("div");t.id=`longpress-describedby-descriptor-${crypto.randomUUID().slice(0,8)}`;const n=(0,r.gn)()||(0,r.Dt)()?"touch":"keyboard";t.textContent=Ne[n],t.slot="longpress-describedby-descriptor";const i=e.getRootNode();i===this.getRootNode()?this.append(t):(t.hidden=!("host"in i),e.insertAdjacentElement("afterend",t));const o=(0,l.q)(e,"aria-describedby",[t.id]);this.releaseLongpressDescribedby=()=>{o(),t.remove(),this.releaseLongpressDescribedby=u}}prepareAriaDescribedby(){if("hover"!==this.triggerInteraction||this.releaseAriaDescribedby!==u||!this.elements.length||!this.hasNonVirtualTrigger)return;const e=this.triggerElement,t=e.getRootNode(),n=this.elements[0].getRootNode();if(t==this.getRootNode()){const t=(0,l.q)(e,"aria-describedby",[this.id]);this.releaseAriaDescribedby=()=>{t(),this.releaseAriaDescribedby=u}}else if(t===n){this.elementIds=this.elements.map((e=>e.id));const t=this.elements.map((e=>(e.id||(e.id=`${this.tagName.toLowerCase()}-helper-${crypto.randomUUID().slice(0,8)}`),e.id))),n=(0,l.q)(e,"aria-describedby",t);this.releaseAriaDescribedby=()=>{n(),this.elements.map(((e,t)=>{e.id=this.elementIds[t]})),this.releaseAriaDescribedby=u}}}doPointerleave(){this.pointerentered=!1;const e=this.triggerElement;this.focusedin&&e.matches(":focus-visible")||(this.hoverTimeout=setTimeout((()=>{this.open=!1}),300))}handleBeforetoggle(e){"open"!==e.newState&&this.handleBrowserClose()}handleBrowserClose(){"opening"===this.longpressState||"pressed"===this.longpressState?this.manuallyKeepOpen():this.open=!1}manuallyKeepOpen(){super.manuallyKeepOpen(),this.open=!0,this.placementController.allowPlacementUpdate=!0,this.manageOpen(!1)}handleSlotchange(){this.triggerElement&&this.prepareAriaDescribedby(),this.elements.length?this.hasNonVirtualTrigger&&this.prepareLongpressDescription(this.triggerElement):this.releaseLongpressDescribedby()}shouldPreventClose(){const e=this.willPreventClose;return this.willPreventClose=!1,e}willUpdate(e){var t;if(this.hasAttribute("id")||this.setAttribute("id",`${this.tagName.toLowerCase()}-${crypto.randomUUID().slice(0,8)}`),e.has("open")&&(void 0!==e.get("open")||this.open)&&this.manageOpen(e.get("open")),e.has("trigger")){const[e,n]=(null==(t=this.trigger)?void 0:t.split("@"))||[];this.elementResolver.selector=e?`#${e}`:"",this.triggerInteraction=n}const n=this.triggerElement;e.has(a.m)&&(this.triggerElement=this.elementResolver.element,this.manageTriggerElement(n)),e.has("triggerElement")&&this.manageTriggerElement(e.get("triggerElement"))}updated(e){super.updated(e),e.has("placement")&&(this.placement?this.dialogEl.setAttribute("actual-placement",this.placement):this.dialogEl.removeAttribute("actual-placement"),this.open&&void 0!==e.get("placement")&&this.placementController.resetOverlayPosition())}renderContent(){return o.dy`
            <slot @slotchange=${this.handleSlotchange}></slot>
        `}get dialogStyleMap(){return{"--swc-overlay-open-count":e.openCount.toString()}}renderDialog(){return o.dy`
            <dialog
                class="dialog"
                part="dialog"
                placement=${(0,c.o)(this.requiresPosition?this.placement||"right":void 0)}
                style=${(0,h.V)(this.dialogStyleMap)}
                @close=${this.handleBrowserClose}
                @cancel=${this.handleBrowserClose}
                @beforetoggle=${this.handleBeforetoggle}
                ?is-visible=${"closed"!==this.state}
            >
                ${this.renderContent()}
            </dialog>
        `}renderPopover(){return o.dy`
            <div
                class="dialog"
                part="dialog"
                placement=${(0,c.o)(this.requiresPosition?this.placement||"right":void 0)}
                popover=${(0,c.o)(this.popoverValue)}
                style=${(0,h.V)(this.dialogStyleMap)}
                @beforetoggle=${this.handleBeforetoggle}
                @close=${this.handleBrowserClose}
                ?is-visible=${"closed"!==this.state}
            >
                ${this.renderContent()}
            </div>
        `}render(){const e="modal"===this.type||"page"===this.type;return o.dy`
            ${e?this.renderDialog():this.renderPopover()}
            <slot name="longpress-describedby-descriptor"></slot>
        `}connectedCallback(){super.connectedCallback(),this.addEventListener("close",(()=>{this.open=!1})),this.hasNonVirtualTrigger&&this.bindEvents()}disconnectedCallback(){this.hasNonVirtualTrigger&&this.unbindEvents(),this.releaseAriaDescribedby(),this.releaseLongpressDescribedby(),this.open=!1,super.disconnectedCallback()}};Me.styles=[ke],Me.openCount=1,Fe([(0,s.Cb)({type:Boolean})],Me.prototype,"delayed",1),Fe([(0,s.IO)(".dialog")],Me.prototype,"dialogEl",2),Fe([(0,s.Cb)({type:Boolean})],Me.prototype,"disabled",1),Fe([(0,s.NH)({flatten:!0,selector:':not([slot="longpress-describedby-descriptor"], slot)'})],Me.prototype,"elements",2),Fe([(0,s.Cb)({type:Number})],Me.prototype,"offset",2),Fe([(0,s.Cb)({type:Boolean,reflect:!0})],Me.prototype,"open",1),Fe([(0,s.Cb)()],Me.prototype,"placement",2),Fe([(0,s.Cb)({attribute:"receives-focus"})],Me.prototype,"receivesFocus",2),Fe([(0,s.IO)("slot")],Me.prototype,"slotEl",2),Fe([(0,s.SB)()],Me.prototype,"state",1),Fe([(0,s.Cb)({type:Number,attribute:"tip-padding"})],Me.prototype,"tipPadding",2),Fe([(0,s.Cb)()],Me.prototype,"trigger",2),Fe([(0,s.Cb)({attribute:!1})],Me.prototype,"triggerElement",2),Fe([(0,s.Cb)({attribute:!1})],Me.prototype,"triggerInteraction",2),Fe([(0,s.Cb)()],Me.prototype,"type",2);let We=Me;(0,i.N)("sp-overlay",We)},171:(e,t,n)=>{n.d(t,{i:()=>o,l:()=>s});var i=n(601);const o=e=>e.querySelector(i.N),s=e=>e.assignedElements().find((e=>e.matches(i.N)))},601:(e,t,n)=>{n.d(t,{N:()=>s});const i=["button","[focusable]","[href]","input","label","select","textarea","[tabindex]"],o=':not([tabindex="-1"])',s=i.join(`${o}, `)+o;i.join(", ")}}]);